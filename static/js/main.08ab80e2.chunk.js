(this.webpackJsonpweather=this.webpackJsonpweather||[]).push([[0],{10:function(e,t,c){e.exports={block:"MainPage_block__k9ed-",container:"MainPage_container__3RFBY",currentWeather:"MainPage_currentWeather__1mJHa",cardsBlock:"MainPage_cardsBlock__KjOgV",cards:"MainPage_cards__2V7jk",buttons:"MainPage_buttons__2FR6m",link:"MainPage_link__38CrP",inactive:"MainPage_inactive__3gQ8a",active:"MainPage_active__Hd6X0"}},13:function(e,t,c){e.exports={container:"SidePage_container__117Aw",form:"SidePage_form__3vbBd",btn:"SidePage_btn__QKPA9",location:"SidePage_location__3sQyh",longTermForecast:"SidePage_longTermForecast__a3aDd",hourlyForecast:"SidePage_hourlyForecast__2cBQk",cards:"SidePage_cards__N_vJF"}},14:function(e,t,c){e.exports={card:"OneDay_card__3CfjS"}},15:function(e,t,c){e.exports={main:"CurrentWeather_main__3wJpS",oneBlock:"CurrentWeather_oneBlock__HKlQb",twoBlock:"CurrentWeather_twoBlock__2DumD",city:"CurrentWeather_city__1FoG7",temp:"CurrentWeather_temp__2RGXo",date:"CurrentWeather_date__WYoy3"}},44:function(e,t,c){},74:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c.n(n),r=c(23),i=c.n(r),s=(c(44),c(3)),o=c(19),u=c(10),d=c.n(u),l=c(17),j=c(9),h=c(15),b=c.n(h),O=c(1),f=function(e){var t=e.name,c=e.temp,n=e.country,a=e.ts,r=e.wind_spd,i=e.description,s=e.clouds,o=1e3*a,u=function(e){return e<10?"0"+e:e},d=function(e,t){return new Date(o).toLocaleString(e,t)},l=d("eng",{weekday:"long"}),j=u(new Date(o).getHours())+":"+u(new Date(o).getMinutes()),h=d("eng",{month:"long",day:"numeric"});return Object(O.jsxs)("div",{className:b.a.main,children:[Object(O.jsxs)("div",{className:b.a.oneBlock,children:[Object(O.jsxs)("div",{className:b.a.city,children:[t,", ",n]}),Object(O.jsxs)("div",{className:b.a.date,children:[l,", ",h,", ",j]}),Object(O.jsx)("div",{className:b.a.temp,children:c>0?"+".concat(c," \xb0C"):"".concat(c," \xb0C")})]}),Object(O.jsxs)("div",{className:b.a.twoBlock,children:[Object(O.jsxs)("div",{children:["Wind speed................................... ",Object(O.jsxs)("span",{children:[Math.round(r),"m/s"]})]}),Object(O.jsxs)("div",{children:["Description............ ",Object(O.jsx)("span",{children:i})]}),Object(O.jsxs)("div",{children:["Clouds.............................................. ",Object(O.jsxs)("span",{children:[s," %"]})]})]})]})},p=c(12),_=c.n(p),v=c(20),m=c(11),x=c(37),y="42cc24f28fbb425f9f843ed17ea96e72",g=c.n(x).a.create({baseURL:"https://api.weatherbit.io/v2.0"}),w=function(e,t){return g.get("/current?&city=".concat(e,",").concat(t,"&key=").concat(y))},E=function(e){return g.get("/forecast/daily?city=".concat(e,"&key=").concat(y))},k=function(e){return g.get("/forecast/hourly?city=".concat(e,"&key=").concat(y,"&hours=10"))},C=function(e,t){var c={saveCity:e,saveCountry:t};localStorage.setItem("city",JSON.stringify(c))},P=function(){var e=localStorage.getItem("city");return e?JSON.parse(e):{saveCity:null,saveCountry:null}},N={error:null,city:P().saveCity,country:P().saveCountry,currentWeather:[],forecast:[],hours:[]},S=function(e){return{type:"APP/ERROR_DETECTED",error:e}},T=function(e){return{type:"APP/SET_FORECAST_WEATHER",dailyData:e}},R=c(14),A=c.n(R),D=function(e){e.date;var t=e.temp,c=e.description,n=1e3*e.ts,a=new Date(n).toLocaleString("eng",{weekday:"long"}),r=new Date(n).toLocaleString("eng",{year:"numeric",month:"long",day:"numeric"});return Object(O.jsxs)("div",{className:A.a.card,children:[Object(O.jsx)("div",{className:A.a.weekdayName,children:r}),Object(O.jsx)("div",{className:A.a.weekdayName,children:a}),Object(O.jsx)("div",{className:A.a.weekdayName,children:t>0?"+".concat(t," \xb0C"):"".concat(t," \xb0C")}),Object(O.jsx)("button",{children:c})]})},W=function(){var e=Object(j.c)((function(e){return e.weather.city})),t=Object(j.c)((function(e){return e.weather.country})),c=Object(j.c)((function(e){return e.weather.forecast})),a=Object(j.c)((function(e){return e.weather.currentWeather})),r=Object(j.b)(),i=Object(n.useState)(e),s=Object(o.a)(i,2),u=s[0],h=s[1],b=Object(n.useState)(t),p=Object(o.a)(b,2),m=p[0],x=p[1];Object(n.useEffect)((function(){var e;r((e=u,function(){var t=Object(v.a)(_.a.mark((function t(c){var n,a;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,E(e);case 3:n=t.sent,a=n.data.data.slice(1,4),c(T(a)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),c(S("Error"));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()))}),[r,u]),Object(n.useEffect)((function(){r(function(e,t){return function(){var c=Object(v.a)(_.a.mark((function c(n){var a;return _.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,w(e,t);case 3:a=c.sent,n({type:"APP/SET_CURRENT_WEATHER",weather:a.data.data}),c.next=10;break;case 7:c.prev=7,c.t0=c.catch(0),n(S("Error"));case 10:case"end":return c.stop()}}),c,null,[[0,7]])})));return function(e){return c.apply(this,arguments)}}()}(u,m))}),[r,u]);return Object(O.jsxs)("div",{className:d.a.block,children:[Object(O.jsxs)("div",{className:d.a.container,children:[Object(O.jsx)("div",{className:d.a.currentWeather,children:a.map((function(c,n){return Object(O.jsx)(f,{temp:c.temp,name:e,country:t,ts:c.ts,wind_spd:c.wind_spd,description:c.weather.description,clouds:c.clouds},n)}))}),Object(O.jsxs)("div",{className:d.a.buttons,children:[Object(O.jsx)("span",{children:"Select city"}),Object(O.jsx)("button",{onClick:function(){h("Minsk"),x("BY")},children:"Minsk"}),Object(O.jsx)("button",{onClick:function(){h("Moscow"),x("RU")},children:"Moscow"}),Object(O.jsx)("button",{onClick:function(){h("Bratislava"),x("SK")},children:"Bratislava"})]})]}),Object(O.jsx)("div",{className:d.a.link,children:Object(O.jsx)(l.b,{className:d.a.inactive,activeClassName:d.a.active,to:"/in/".concat(e),children:"\u041f\u0440\u043e\u0433\u043d\u043e\u0437 \u043d\u0430 10 \u0434\u043d\u0435\u0439"})}),Object(O.jsxs)("div",{className:d.a.cardsBlock,children:[Object(O.jsx)("span",{children:"Three days forecast"}),Object(O.jsx)("div",{className:d.a.cards,children:c.map((function(e,t){return Object(O.jsx)(D,{temp:e.high_temp,date:e.valid_date,description:e.weather.description,ts:e.ts},t)}))})]})]})},F=c(13),B=c.n(F),M=function(e){var t=e.temp,c=e.description,n=1e3*e.ts,a=function(e){return e<10?"0"+e:e},r=function(e,t){return new Date(n).toLocaleString(e,t)},i=r("eng",{weekday:"short"}),s=a(new Date(n).getHours())+":"+a(new Date(n).getMinutes()),o=r("eng",{month:"long",day:"numeric"});return Object(O.jsxs)("div",{className:A.a.card,children:[Object(O.jsx)("div",{children:o}),Object(O.jsxs)("div",{children:[i,", ",s]}),Object(O.jsx)("div",{children:t>0?"+".concat(t," \xb0C"):"".concat(t," \xb0C")}),Object(O.jsx)("button",{children:c})]})},H=function(){var e=Object(s.h)().cityName,t=Object(s.g)(),c=Object(j.b)(),a=Object(j.c)((function(e){return e.weather.forecast})),r=Object(j.c)((function(e){return e.weather.hours})),i=Object(n.useState)(""),u=Object(o.a)(i,2),d=u[0],l=u[1];Object(n.useEffect)((function(){c(function(e){return function(){var t=Object(v.a)(_.a.mark((function t(c){var n,a;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,k(e);case 3:n=t.sent,a=n.data.data,c({type:"APP/SET_HOURLY_FORECAST_WEATHER",weather:a}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),c(S("Error"));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}(e))}),[c,e]),Object(n.useEffect)((function(){c(function(e){return function(){var t=Object(v.a)(_.a.mark((function t(c){var n,a;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,E(e);case 3:n=t.sent,a=n.data.data.slice(1,11),c(T(a)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),c(S("Error"));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}(e))}),[c,e]),console.log("h+1");return Object(O.jsxs)("div",{className:B.a.container,children:[Object(O.jsxs)("div",{className:B.a.form,children:[Object(O.jsx)("input",{type:"text",name:"city",placeholder:"Enter your city",value:d,onChange:function(e){return l(e.currentTarget.value)}}),Object(O.jsx)("button",{className:B.a.btn,onClick:function(){c({type:"APP/SEARCHED-CITY",inputValueSearch:d}),t.push("/in/".concat(d))},children:"Get weather"})]}),Object(O.jsx)("div",{className:B.a.location,children:Object(O.jsx)("h3",{children:e})}),Object(O.jsxs)("div",{className:B.a.longTermForecast,children:[Object(O.jsx)("h3",{children:"Daily forecast"}),Object(O.jsx)("div",{className:B.a.cards,children:a.map((function(e,t){return Object(O.jsx)(D,{temp:e.high_temp,date:e.valid_date,description:e.weather.description,ts:e.ts},t)}))})]}),Object(O.jsxs)("div",{className:B.a.hourlyForecast,children:[Object(O.jsx)("h3",{children:"Hourly forecast"}),Object(O.jsx)("div",{className:B.a.cards,children:r.map((function(e,t){return Object(O.jsx)(M,{temp:e.app_temp,description:e.weather.description,ts:e.ts},t)}))})]})]})},L=function(){return Object(O.jsx)("div",{children:Object(O.jsxs)(s.d,{children:[Object(O.jsx)(s.b,{path:"/",exact:!0,render:function(){return Object(O.jsx)(s.a,{to:"/main"})}}),Object(O.jsx)(s.b,{path:"/main",render:function(){return Object(O.jsx)(W,{})}}),Object(O.jsx)(s.b,{path:"/in/:cityName",render:function(){return Object(O.jsx)(H,{})}})]})})};var J=function(){return Object(O.jsx)("div",{children:Object(O.jsx)(L,{})})},Y=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,75)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;c(e),n(e),a(e),r(e),i(e)}))},I=c(24),U=c(39),Q=Object(I.b)({weather:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"APP/ERROR_DETECTED":return Object(m.a)(Object(m.a)({},e),{},{error:t.error});case"APP/SET_FORECAST_WEATHER":return Object(m.a)(Object(m.a)({},e),{},{forecast:t.dailyData});case"APP/SET_CURRENT_WEATHER":var c=Object(m.a)({},e);return c.city=t.weather[0].city_name,c.country=t.weather[0].country_code,c.currentWeather=t.weather,C(c.city,c.country),c;case"APP/SET_HOURLY_FORECAST_WEATHER":return Object(m.a)(Object(m.a)({},e),{},{hours:t.weather});case"APP/SEARCHED-CITY":return Object(m.a)(Object(m.a)({},e),{},{city:t.inputValueSearch});default:return e}}}),K=Object(I.c)(Q,Object(I.a)(U.a));i.a.render(Object(O.jsx)(a.a.StrictMode,{children:Object(O.jsx)(j.a,{store:K,children:Object(O.jsx)(l.a,{children:Object(O.jsx)(J,{})})})}),document.getElementById("root")),Y()}},[[74,1,2]]]);
//# sourceMappingURL=main.08ab80e2.chunk.js.map